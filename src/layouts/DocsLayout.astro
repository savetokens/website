---
import Layout from './Layout.astro';
import DocsSidebar from '../components/DocsSidebar.astro';
import Footer from '../components/Footer.astro';

interface Props {
  title: string;
  description?: string;
}

const { title, description } = Astro.props;
const layoutProps = description ? { title, description } : { title };
---

<Layout {...layoutProps}>
  <div class="pt-16 min-h-screen">
    <div class="max-w-7xl mx-auto px-4 lg:px-8 py-8">
      <div class="flex gap-8 lg:gap-12">
        <DocsSidebar />

        <main class="flex-1 min-w-0 max-w-4xl">
          <article class="prose prose-lg dark:prose-invert max-w-none
                         prose-headings:font-bold prose-headings:tracking-tight
                         prose-h1:text-5xl prose-h1:font-extrabold prose-h1:my-8 prose-h1:text-gray-900 prose-h1:dark:text-gray-100 prose-h1:leading-tight prose-h1:tracking-tighter
                         prose-h2:text-2xl prose-h2:mt-16 prose-h2:mb-6 prose-h2:pb-4 prose-h2:text-gray-900 prose-h2:dark:text-gray-100 prose-h2:font-bold
                         prose-h3:text-lg prose-h3:mt-10 prose-h3:mb-4 prose-h3:text-gray-800 prose-h3:dark:text-gray-200 prose-h3:font-bold
                         prose-h4:text-base prose-h4:mt-6 prose-h4:mb-3 prose-h4:text-gray-700 prose-h4:dark:text-gray-300 prose-h4:font-semibold
                         prose-p:text-gray-600 prose-p:dark:text-gray-400 prose-p:leading-relaxed prose-p:text-base prose-p:my-4
                         prose-li:text-gray-600 prose-li:dark:text-gray-400 prose-li:my-2 prose-li:leading-relaxed
                         prose-ul:my-6 prose-ul:space-y-2 prose-ol:my-6 prose-ol:space-y-2
                         prose-code:text-primary-700 prose-code:dark:text-primary-300 prose-code:bg-primary-100 prose-code:dark:bg-primary-900/40 prose-code:px-2 prose-code:py-1 prose-code:rounded-md prose-code:font-mono prose-code:text-sm prose-code:font-semibold prose-code:border prose-code:border-primary-200 prose-code:dark:border-primary-800
                         prose-pre:!bg-transparent prose-pre:!p-0 prose-pre:!m-0
                         prose-a:text-primary-600 prose-a:dark:text-primary-400 prose-a:font-semibold prose-a:no-underline hover:prose-a:underline prose-a:transition-all
                         prose-strong:text-gray-900 prose-strong:dark:text-gray-100 prose-strong:font-bold
                         prose-table:border-collapse">
            <slot />
          </article>
        </main>
      </div>
    </div>
  </div>
  <Footer />
</Layout>

<style>
  /* Custom documentation styling */
  article :global(h2) {
    @apply scroll-mt-24 border-b-4 border-gray-300 dark:border-gray-700;
  }

  article :global(h3) {
    @apply scroll-mt-24;
  }

  article :global(pre) {
    @apply my-8 rounded-xl overflow-hidden shadow-2xl bg-gray-900 dark:bg-black border-2 border-gray-800 dark:border-gray-700;
  }

  article :global(pre code) {
    @apply block p-6 overflow-x-auto text-gray-100 leading-loose font-mono text-sm;
  }

  article :global(.lead) {
    @apply text-xl text-gray-600 dark:text-gray-400 mb-10 font-normal leading-relaxed;
  }

  article :global(table) {
    @apply w-full my-8 shadow-lg rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700;
  }

  article :global(thead) {
    @apply bg-gray-900 dark:bg-black;
  }

  article :global(th) {
    @apply px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-gray-100;
  }

  article :global(td) {
    @apply px-6 py-4 text-sm border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900;
  }

  article :global(tbody tr:hover) {
    @apply bg-gray-50 dark:bg-gray-800;
  }

  article :global(ul li::marker) {
    @apply text-primary-500;
  }

  article :global(ol li::marker) {
    @apply text-primary-600 font-bold;
  }
</style>
